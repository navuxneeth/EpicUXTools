<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real3D Stereoscopic Image Creator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Real3D Stereoscopic Image Creator</h1>
            <p class="header-subtitle">Create professional stereoscopic images for Real3D polarized glasses</p>
        </header>

        <main class="main-content">
            <!-- Upload Section -->
            <section class="upload-section">
                <div class="upload-container">
                    <div class="upload-area" id="leftUpload">
                        <div class="upload-content">
                            <div class="upload-icon">ðŸ“·</div>
                            <h3>Left Eye Image</h3>
                            <p>Drag & drop or click to upload</p>
                            <input type="file" id="leftFile" accept="image/*" hidden>
                        </div>
                        <div class="image-preview" id="leftPreview" style="display: none;">
                            <img id="leftImg" alt="Left eye image">
                            <div class="image-info">
                                <span id="leftDimensions"></span>
                                <button class="btn btn--sm remove-btn" id="removeLeft">Remove</button>
                            </div>
                        </div>
                    </div>

                    <div class="upload-area" id="rightUpload">
                        <div class="upload-content">
                            <div class="upload-icon">ðŸ“·</div>
                            <h3>Right Eye Image</h3>
                            <p>Drag & drop or click to upload</p>
                            <input type="file" id="rightFile" accept="image/*" hidden>
                        </div>
                        <div class="image-preview" id="rightPreview" style="display: none;">
                            <img id="rightImg" alt="Right eye image">
                            <div class="image-info">
                                <span id="rightDimensions"></span>
                                <button class="btn btn--sm remove-btn" id="removeRight">Remove</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Controls Section -->
            <section class="controls-section" id="controlsSection" style="display: none;">
                <div class="controls-grid">
                    <!-- Alignment Controls -->
                    <div class="control-group">
                        <h3>Image Alignment</h3>
                        <div class="control-item">
                            <label for="horizontalShift">Horizontal Shift</label>
                            <input type="range" id="horizontalShift" min="-50" max="50" value="0" class="slider">
                            <span class="slider-value">0px</span>
                        </div>
                        <div class="control-item">
                            <label for="verticalShift">Vertical Shift</label>
                            <input type="range" id="verticalShift" min="-20" max="20" value="0" class="slider">
                            <span class="slider-value">0px</span>
                        </div>
                        <div class="control-item">
                            <label for="rotation">Rotation</label>
                            <input type="range" id="rotation" min="-5" max="5" value="0" step="0.1" class="slider">
                            <span class="slider-value">0Â°</span>
                        </div>
                    </div>

                    <!-- Depth Controls -->
                    <div class="control-group">
                        <h3>3D Depth Settings</h3>
                        <div class="control-item">
                            <label for="convergence">Convergence Point</label>
                            <input type="range" id="convergence" min="-100" max="100" value="0" class="slider">
                            <span class="slider-value">0</span>
                        </div>
                        <div class="control-item">
                            <label for="parallax">Parallax Adjustment</label>
                            <input type="range" id="parallax" min="-50" max="50" value="0" class="slider">
                            <span class="slider-value">0</span>
                        </div>
                        <div class="control-item">
                            <label for="depthIntensity">Depth Intensity</label>
                            <input type="range" id="depthIntensity" min="0" max="200" value="100" class="slider">
                            <span class="slider-value">100%</span>
                        </div>
                    </div>

                    <!-- Color Correction -->
                    <div class="control-group">
                        <h3>Color Matching</h3>
                        <div class="control-item">
                            <label for="brightness">Brightness Balance</label>
                            <input type="range" id="brightness" min="-50" max="50" value="0" class="slider">
                            <span class="slider-value">0</span>
                        </div>
                        <div class="control-item">
                            <label for="contrast">Contrast</label>
                            <input type="range" id="contrast" min="50" max="150" value="100" class="slider">
                            <span class="slider-value">100%</span>
                        </div>
                    </div>
                </div>

                <!-- Viewing Mode Selection -->
                <div class="viewing-modes">
                    <h3>Viewing Mode</h3>
                    <div class="mode-buttons">
                        <button class="btn btn--secondary mode-btn active" data-mode="reald_sbs">Real3D SBS</button>
                        <button class="btn btn--secondary mode-btn" data-mode="cross_eyed">Cross-Eyed</button>
                        <button class="btn btn--secondary mode-btn" data-mode="parallel">Parallel</button>
                        <button class="btn btn--secondary mode-btn" data-mode="anaglyph">Anaglyph</button>
                    </div>
                    <p class="mode-instructions" id="modeInstructions">View with Real3D circular polarized glasses</p>
                </div>
            </section>

            <!-- Preview Section -->
            <section class="preview-section" id="previewSection" style="display: none;">
                <div class="preview-header">
                    <h3>Stereoscopic Preview</h3>
                    <div class="preview-controls">
                        <button class="btn btn--outline" id="fullscreenBtn">Fullscreen View</button>
                        <button class="btn btn--primary" id="exportBtn">Export Image</button>
                    </div>
                </div>
                <div class="preview-container">
                    <canvas id="previewCanvas"></canvas>
                    <div class="alignment-guides" id="alignmentGuides">
                        <div class="guide-line vertical"></div>
                        <div class="guide-line horizontal"></div>
                    </div>
                </div>
            </section>

            <!-- Export Options Modal -->
            <div class="modal hidden" id="exportModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Export Settings</h3>
                        <button class="modal-close" id="closeExportModal">Ã—</button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label for="exportFormat" class="form-label">Format</label>
                            <select id="exportFormat" class="form-control">
                                <option value="jpeg">JPEG</option>
                                <option value="png">PNG</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="exportResolution" class="form-label">Resolution</label>
                            <select id="exportResolution" class="form-control">
                                <option value="hd">Full HD (1920Ã—1080)</option>
                                <option value="qhd">QHD (2560Ã—1440)</option>
                                <option value="4k">4K UHD (3840Ã—2160)</option>
                                <option value="original">Original Size</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="exportQuality" class="form-label">Quality</label>
                            <select id="exportQuality" class="form-control">
                                <option value="50">50% (Smaller file)</option>
                                <option value="75">75% (Good quality)</option>
                                <option value="85" selected>85% (High quality)</option>
                                <option value="95">95% (Very high quality)</option>
                                <option value="100">100% (Maximum quality)</option>
                            </select>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn--outline" id="cancelExport">Cancel</button>
                        <button class="btn btn--primary" id="confirmExport">Download</button>
                    </div>
                </div>
            </div>

            <!-- Fullscreen Viewer -->
            <div class="fullscreen-viewer hidden" id="fullscreenViewer">
                <div class="fullscreen-content">
                    <div class="fullscreen-header">
                        <div class="viewer-info">
                            <span id="viewerModeText">Real3D Side-by-Side</span>
                        </div>
                        <button class="btn btn--outline" id="exitFullscreen">Exit Fullscreen</button>
                    </div>
                    <div class="fullscreen-canvas-container">
                        <canvas id="fullscreenCanvas"></canvas>
                        <div class="viewing-instructions" id="viewingInstructions">
                            Put on your Real3D polarized glasses and enjoy the 3D effect
                        </div>
                    </div>
                </div>
            </div>

            <!-- Processing Indicator -->
            <div class="processing-overlay hidden" id="processingOverlay">
                <div class="processing-content">
                    <div class="spinner"></div>
                    <p>Processing stereoscopic image...</p>
                </div>
            </div>
        </main>

        <!-- Info Panel -->
        <aside class="info-panel">
            <h3>How to Use</h3>
            <ol>
                <li>Upload left and right eye images</li>
                <li>Adjust alignment and depth settings</li>
                <li>Choose your preferred viewing mode</li>
                <li>Preview the stereoscopic result</li>
                <li>Export in your desired format</li>
            </ol>
            <div class="tips">
                <h4>Tips for Best Results</h4>
                <ul>
                    <li>Use images with similar lighting and exposure</li>
                    <li>Keep parallax within comfortable limits</li>
                    <li>Test with different viewing modes</li>
                    <li>Ensure proper image alignment</li>
                </ul>
            </div>
        </aside>
    </div>

    <script src="app.js"></script>
</body>
</html>